window.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector(".slider__bar"),n=o.querySelector(".slider__toggle"),i=document.querySelector(".slider__image-wrapper--before"),l=document.querySelector(".slider__image-wrapper--after"),s=document.querySelector(".slider__label--before"),r=document.querySelector(".slider__label--after");let e,c,a,d;function u(e,t){t<(e=e<0?0:e)&&(e=t);e=Math.round(e/t*100);i.style.width=`calc(${e}% + 40px)`,l.style.width=100-e+"%",0==e&&(i.style.width=e+"%",l.style.width=`calc(${100-e}% + 40px)`),n.style.left=e+"%",console.log(l)}function t(){l.style="",i.style="",n.style="",document.onmousedown=null,n.onclick=function(){function e(){n.style.marginRight="auto",n.style.marginLeft="",i.classList.add("slider__image-wrapper--active"),l.classList.remove("slider__image-wrapper--active")}function t(){n.style.marginRight="",n.style.marginLeft="auto",i.classList.remove("slider__image-wrapper--active"),l.classList.add("slider__image-wrapper--active")}(6<parseInt(getComputedStyle(n).marginLeft)?e:t)(),s.onclick=function(){e()},r.onclick=function(){t()}}}function f(){a=o.offsetWidth-n.offsetWidth,r.onclick=function(e){i.style.width=0,l.style.width="100%",n.style.left="0%"},s.onclick=function(e){i.style.width="100%",l.style.width=0,n.style.left="100%"}}function m(){if(e=document.querySelector(".container").offsetWidth,console.log(getComputedStyle(n)),/Android|Iphone|webOS|iPad|iPod|BlackBerry|IEMobile|Opera Mini/.test(navigator.userAgent))if(767<e)if(i.classList.add("slider__image-wrapper--active"),l.classList.remove("slider__image-wrapper--active"),767<e){let t=o.getBoundingClientRect().left+window.scrollX;n.ontouchstart=function(e){var t=n.getBoundingClientRect();c=t.left+window.scrollX,a=o.offsetWidth-n.offsetWidth,d=e.touches[0].pageX-c},n.ontouchmove=function(e){u(e.targetTouches[0].pageX-t-d,a)},f()}else t();else t();else if(i.classList.add("slider__image-wrapper--active"),l.classList.remove("slider__image-wrapper--active"),767<e){let i=o.getBoundingClientRect().left+pageXOffset;n.onmousedown=function(e){var t=n.getBoundingClientRect();c=t.left+window.scrollX,a=o.offsetWidth-n.offsetWidth,d=e.pageX-c,document.onmousemove=function(e){return u(e.pageX-i-d,a),!1},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}},f()}else t()}m(),window.onresize=m});