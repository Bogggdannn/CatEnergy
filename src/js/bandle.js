window.addEventListener("DOMContentLoaded",()=>{const l=document.querySelector(".slider__bar"),n=l.querySelector(".slider__toggle"),o=document.querySelector(".slider__image-wrapper--before"),i=document.querySelector(".slider__image-wrapper--after"),e=document.querySelector(".slider__label--before"),t=document.querySelector(".slider__label--after");let s,c,r,d;function a(e,t){t<(e=e<0?0:e)&&(e=t);e=Math.round(e/t*100);o.style.width=`calc(${e}% + 40px)`,i.style.width=100-e+"%",0==e&&(o.style.width=e+"%",i.style.width=`calc(${100-e}% + 40px)`),n.style.left=e+"%",console.log(i)}function u(){i.style="",o.style="",n.style="",document.onmousedown=null,n.onclick=function(){}}function f(){r=l.offsetWidth-n.offsetWidth,t.onclick=function(e){let t=n.style.left?parseInt(slider.style.left)-20:30;t<=0?(t=0,o.style.width=t+"%",i.style.width=`calc(${100-t}% + 40px)`):(o.style.width=`calc(${t}% + 40px)`,i.style.width=100-t+"%"),n.style.left=t+"%"},e.onclick=function(e){let t=n.style.left?parseInt(slider.style.left)+20:30;100<=t&&(t=100),o.style.width=`calc(${t}% + 40px)`,i.style.width=100-t+"%",n.style.left=t+"%"}}function m(){if(s=document.querySelector(".container").offsetWidth,console.log(getComputedStyle(n)),/Android|Iphone|webOS|iPad|iPod|BlackBerry|IEMobile|Opera Mini/.test(navigator.userAgent))if(767<s)if(o.classList.add("slider__image-wrapper--active"),i.classList.remove("slider__image-wrapper--active"),767<s){let t=l.getBoundingClientRect().left+window.scrollX;n.ontouchstart=function(e){var t=n.getBoundingClientRect();c=t.left+window.scrollX,r=l.offsetWidth-n.offsetWidth,d=e.touches[0].pageX-c},n.ontouchmove=function(e){a(e.targetTouches[0].pageX-t-d,r)},f()}else u();else u();else if(o.classList.add("slider__image-wrapper--active"),i.classList.remove("slider__image-wrapper--active"),767<s){let o=l.getBoundingClientRect().left+pageXOffset;n.onmousedown=function(e){var t=n.getBoundingClientRect();c=t.left+window.scrollX,r=l.offsetWidth-n.offsetWidth,d=e.pageX-c,document.onmousemove=function(e){return a(e.pageX-o-d,r),!1},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}},f()}else u()}m(),window.onresize=m});